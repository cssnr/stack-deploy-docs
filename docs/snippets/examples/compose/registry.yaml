- name: "Compose Deploy"
  uses: cssnr/stack-deploy-action@v1
  with:
    name: "stack-name"
    file: "docker-compose.yaml"
    host: ${{ secrets.DOCKER_HOST }}
    port: ${{ secrets.DOCKER_PORT }}
    user: ${{ secrets.DOCKER_USER }}
    ssh_key: ${{ secrets.DOCKER_SSH_KEY }}
    registry_host: "ghcr.io"
    registry_user: ${{ vars.GHCR_USER }}
    registry_pass: ${{ secrets.GHCR_PASS }}
    mode: compose
